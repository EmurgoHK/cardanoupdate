<template name="notifications">
  <div class="notifications-index container">
    <div class="card">
      <div class="card-body">
        <div class="card-title clearfix">
          <h1 class="{{#if unreadCount}}float-left{{/if}}">My notifications</h1>
          {{#if unreadCount}}
          <div class="float-right">
            <a class="btn btn-sm btn-success" href="" role="button" id="markAllAsRead">Mark all as read</a>
          </div>
          {{/if}}
        </div>
        {{#if SubsCacheReady}}
        {{#if notifications.count}}
        {{#each notifications}}
          <div class="card d-block d-sm-none d-block d-sm-none">
            <div id="{{_id}}" class="notification-item clearfix" style="{{#unless read}}background-color: #e4e5e6{{/unless}}" >
              <a style="text-decoration: none; display: block;" href="{{href}}" class="card-body">
                <span>{{message}}</span>
                <br />{{from}}
                <br />{{showTimeAgoTimestamp createdAt}}
              </a>
            </div>
          </div>
        {{/each}}
          <div class="d-none d-sm-block clearfix">
            <table class="table table-hover mt-3">
              <tbody>
              {{#each notifications}}
                <tr style="{{#unless read}}background-color: #e4e5e6{{/unless}}" class="notification-item">
                  <a style="text-decoration: none;" href="{{href}}">
                    <td scope="row" style="width: 85%">{{message}}</td>
                    <td>{{from}}</td>
                    <td style="width: 20%">{{showTimeAgoTimestamp createdAt}}</td>
                  </a>
                </tr>
              {{/each}}
              </tbody>
            </table>
          </div>
        {{else}}
          <div class="mt-3">
          {{> emptyResult text="No notifications yet" description="" icon=""}}
          </div>
        {{/if}}
        {{else}}
          {{> loader}}
        {{/if}}
      </div>
    </div>
  </div>
</template>
